<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
     
    <title>jum&#39;s random musings  | The Cost of IP Traffic</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
     <meta name="generator" content="Hugo 0.26" />
      
      
        <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
      

     <link href='https://jum.github.io/dist/main.css' rel='stylesheet' type="text/css" />

     

      <meta property="og:title" content="The Cost of IP Traffic" />
<meta property="og:description" content="A Typical Scenario In most modern apps the assumption is that IP traffic is basically free. Most desktop apps just use the Internet as they see fit. On mobile phones (iOS as per my experience) there is a way to find out if the device is connected via the mobile data network, which might be volume capped and thus expensive. Mobile apps do allow to postpone certain bulk data accesses to times when the device is connected via WIFI." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jum.github.io/posts/ip-costs/" />



<meta property="article:published_time" content="2016-09-12T20:54:00&#43;02:00"/>
<meta property="article:modified_time" content="2016-09-12T20:54:00&#43;02:00"/>











<meta itemprop="name" content="The Cost of IP Traffic">
<meta itemprop="description" content="A Typical Scenario In most modern apps the assumption is that IP traffic is basically free. Most desktop apps just use the Internet as they see fit. On mobile phones (iOS as per my experience) there is a way to find out if the device is connected via the mobile data network, which might be volume capped and thus expensive. Mobile apps do allow to postpone certain bulk data accesses to times when the device is connected via WIFI.">


<meta itemprop="dateModified" content="2016-09-12T20:54:00&#43;02:00" />
<meta itemprop="wordCount" content="766">



<meta itemprop="keywords" content="Development,Networking," />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="The Cost of IP Traffic"/>
<meta name="twitter:description" content="A Typical Scenario In most modern apps the assumption is that IP traffic is basically free. Most desktop apps just use the Internet as they see fit. On mobile phones (iOS as per my experience) there is a way to find out if the device is connected via the mobile data network, which might be volume capped and thus expensive. Mobile apps do allow to postpone certain bulk data accesses to times when the device is connected via WIFI."/>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://jum.github.io/" class="f3 fw2 hover-white no-underline white-90 dib">
      jum&#39;s random musings
    </a>
    <div class="flex-l items-center">
      
      



  <a href="https://twitter.com/jumager" class="link-transition twitter link dib z-999 pt3 pt0-l mr2" title="Twitter link">
    <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

  </a>




    </div>
  </div>
</nav>

    </div>
  </header>


    <main class="pb7" role="main">
      
  <div class="flex-l mt2 mw8 center">
    <article class="center cf pv5 ph3 ph4-ns mw7">
      <header>
        <p class="f6 b helvetica tracked">
          POSTS
        </p>
        <h1 class="f1">
          The Cost of IP Traffic
        </h1>
      </header>
      <div class="nested-copy-line-height lh-copy f4 nested-links nested-img mid-gray">
        

<h2 id="a-typical-scenario">A Typical Scenario</h2>

<p>In most modern apps the assumption is that IP traffic is basically free. Most desktop apps just use the Internet as they see fit. On mobile phones (iOS as per my experience) there is a way to find out if the device is connected via the mobile data network, which might be volume capped and thus expensive. Mobile apps do allow to postpone certain bulk data accesses to times when the device is connected via WIFI. A typical example is WhatsApp, which has a setting to perform chat backups only when connected via WIFI.</p>

<p>This distinction is only touching the surface of the problem. There are many scenarios where this all breaks down and many assumptions about the network type are meaningless. For example to say that a mobile link is expensive and a WIFI link is cheap (or even basically free) does only work locally on a device that has both of these connections and the WIFI connection (if connected) is connected to an unlimited flat data plan.</p>

<p>Even in a simple traveling arrangement this can produce surprisingly expensive and easy to do mistakes. Consider for example the following scenario: you travel with your Mac laptop, an iPhone (with volume capped data plan) and an iPad. While traveling you need to do some work on your laptop that requires internet connectivity, so as a cost conscientious human being you stop all your apps on the Mac laptop that are not supposed to be talking to the Internet right now and only start the app(s) you need right now.</p>

<p>But you still have the iPad in your backpack, and probably you have forgotten to turn off WIFI on that device. As soon as you turn on the hotspot feature on your phone, which is very easy to do nowadays that you can tether to your phone directly from the WIFI menu on the Mac, the iPad will probably connect to that hotspot as well and will tell the interested apps on that device that WIFI is available. In my case I did use the Apple WWDC app to download a few developers videos for offline viewing on my iPad. As I grabbed the iPad to put in the bag I did not check if all of those videos really completed downloading and the WWDC app started to resume a few of these downloads consuming all my precious data volume plan in no time.</p>

<p>Very similar mishaps can happen even with any mobile data connection shared via WIFI, like for example the typical MIFI devices sold all over the world to make small WIFI networks using a cellular connection. With iCloud password sharing all your devices now know how to connect far to easily and it is increasingly difficult to control which applications do perform network I/O and consume your data plan.</p>

<h2 id="what-is-missing-here">What is missing here?</h2>

<p>There are quite a few features missing in applications and the OS, and none of these have been addressed except some special cases, like limiting an NSURLSession to not use mobile data, which is really only a band aid.</p>

<p>To summarize:</p>

<ul>
<li>There is no way for apps to convey to the underlying API&rsquo;s of the OS beyond a certain quality of service as to why the data transfer is initiated (user initiated background, user initiated wants it right now).</li>
<li>There is no way to guess the cost of an Internet connection in any sensible way for apps. Just saying mobile data is expensive and WIFI is cheap or even free is not the reality. The current guess work with mobile data vs. WIFI is just not the right way to do it.</li>
<li>There needs to be a way to associate attributes to an Internet connection that are conveyed to client apps across the boundaries of WIFI or even connected networks, to make higher level decisions about planning data intense tasks. If my main uplink to the Internet is down and I am using a slower (and more expensive) backup link I might want to postpone a network backup to more opportune time unless it is really pressing and I said do it right now.</li>
<li>There are very few controls for the user regarding to background activity of apps (especially with iOS). On the traditional desktop environment this is easy - just quit the app you do not want to be active and there will be no network traffic from that app. This will get more like on iOS considered that even desktop OSes now have API&rsquo;s to initiate background file transfers while the responsible app is not running.</li>
</ul>

      </div>
    </article>
    <aside class="ph3 mt2 mt6-ns">
      








    </aside>
  </div>

    </main>
    <footer class="bg-near-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://jum.github.io/" >
    &copy; 2017 jum&#39;s random musings
  </a>
  



  <a href="https://twitter.com/jumager" class="link-transition twitter link dib z-999 pt3 pt0-l mr2" title="Twitter link">
    <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

  </a>




  </div>
</footer>

    <script src="https://jum.github.io/dist/app.bundle.js" async></script>

  </body>
</html>
